"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[747],{747:function(n,e,t){t.r(e),t.d(e,{default:function(){return m}});var r,o,i=t(861),u=t(439),c=t(757),a=t.n(c),s=t(87),f=t(168),l=t(444),p=l.ZP.input(r||(r=(0,f.Z)(["\n  width: 300px;\n  height: 30px;\n  border-radius: 5px;\n  border: 1px solid grey;\n  outline: none;\n  padding: 5px;\n  font-size: 16px;\n"]))),d=l.ZP.form(o||(o=(0,f.Z)(["\n  display: flex;\n  align-items: center;\n\n  margin-bottom: 20px;\n  padding-left: 20px;\n  padding-top: 20px;\n"]))),h=t(184),x=function(n){n.onSubmit;var e,t=(0,s.lr)(),r=(0,u.Z)(t,2),o=r[0],i=r[1],c=null!==(e=o.get("query"))&&void 0!==e?e:"";return(0,h.jsx)(d,{onSubmit:function(n){n.preventDefault()},children:(0,h.jsx)(p,{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:c,onChange:function(n){return i({query:n.currentTarget.value})}})})},v=t(791),g=t(689),m=function(){var n=(0,v.useState)(""),e=(0,u.Z)(n,2),t=e[0],r=e[1],o=(0,v.useState)([]),c=(0,u.Z)(o,2),f=c[0],l=c[1],p=(0,g.TH)();return(0,v.useEffect)((function(){p.search&&r(decodeURIComponent(p.search.split("=")[1]))}),[p]),console.log(p),(0,v.useEffect)((function(){if(t){var n=function(){var n=(0,i.Z)(a().mark((function n(){var e,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("41ab92c3df4691a01a2e362c5f7f74c0","&language=en-US&query=").concat(t,"&page=1"));case 2:return e=n.sent,n.next=5,e.json();case 5:r=n.sent,l(r.results);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}}),[t]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{}),f.length>0&&t.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("h1",{children:["Search results for ",t]}),(0,h.jsx)("ul",{children:f.map((function(n){return(0,h.jsx)("li",{children:(0,h.jsx)(s.rU,{to:"".concat(n.id),state:{from:p},children:n.title||n.name})},n.id)}))})]})]})}},861:function(n,e,t){function r(n,e,t,r,o,i,u){try{var c=n[i](u),a=c.value}catch(s){return void t(s)}c.done?e(a):Promise.resolve(a).then(r,o)}function o(n){return function(){var e=this,t=arguments;return new Promise((function(o,i){var u=n.apply(e,t);function c(n){r(u,o,i,c,a,"next",n)}function a(n){r(u,o,i,c,a,"throw",n)}c(void 0)}))}}t.d(e,{Z:function(){return o}})}}]);
//# sourceMappingURL=747.0b720afd.chunk.js.map